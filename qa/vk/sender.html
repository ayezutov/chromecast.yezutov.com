<html data-cast-api-enabled="true">
<head>
    <script src="scripts/jquery-1.9.1.js"></script>
    <script src="scripts/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="scripts/cast.player.js"></script>
    <link rel="stylesheet" type="text/css" href="css/jqueryui/jquery-ui.min.css" />
    <link rel="stylesheet" type="text/css" href="css/vkcast.css" />
    <link rel="SHORTCUT ICON" href="favicon.ico" />

    <script>
        var cast_api, cv_activity;

        if (window.cast && window.cast.isAvailable) {
            // Cast is known to be available
            initializeApi();
        } else {
            // Wait for API to post a message to us
            window.addEventListener("message", function (event) {
                if (event.source == window && event.data &&
                    event.data.source == "CastApi" &&
                    event.data.event == "Hello")
                    initializeApi();
            });
        };

        initializeApi = function () {
            cast_api = new cast.Api();
            cast_api.addReceiverListener("YouTube", onReceiverList);
        };

        onReceiverList = function (list) {
            // If the list is non-empty, show a widget with
            // the friendly names of receivers.
            // When a receiver is picked, invoke doLaunch with the receiver.
        };

        doLaunch = function (receiver) {
            var request = new window.cast.LaunchRequest("YouTube", receiver);
            request.parameters = "v=abcdefg";
            //...
            request.description = new window.cast.LaunchDescription();
            request.description.text = "My Cat Video";
            request.description.url = "...";
            cast_api.launch(request, onLaunch);
        };

        onLaunch = function (activity) {
            if (activity.status == "running") {
                cv_activity = activity;
                // update UI to reflect that the receiver has received the
                // launch command and should start video playback.
            } else if (activity.status == "error") {
                cv_activity = null;
            }
        };

        stopPlayback = function () {
            if (cv_activity) {
                cast_api.stopActivity(cv_activity.activityId);
            }
        };
    </script>
  </head>
<body>

    <header>
    </header>

    <div class="content">
        <div class="content2">
            <div class="content3">
                <div id="video-area">
                    <div id="video-simulation">
                        <video id="html5player" poster="http://corrupt-system.de/assets/media/sintel/sintel-trailer.jpg" controls preload="none" style="width: 400px; height: 228px;">
        <source src="http://corrupt-system.de/assets/media/sintel/sintel-trailer.m4v" type="video/mp4" />
        <source src="http://corrupt-system.de/assets/media/sintel/sintel-trailer.webm" type="video/webm" />
    </video>
                    </div>
                    <div class="controls">
                        <div role="progressbar" id="progressbar">
                            <div role="progressbar" id="progressbar-preloaded"></div>
                            <div role="progressbar" id="progressbar-playing"></div>
                            <div role="progressbar" id="progressbar-new-position-bar" title="Click to select time"></div>
                        </div>
                        <div role="button" id="play" title="Play the video"></div>
                        <div role="button" id="pause" title="Pause the video"></div>
                        
                        <div role="button" id="quality" title="Change video quality"></div>
                        <div id="volume">
                            <div role="button" id="volume-icon" title="Mute"></div>
                            <div id="volume-slider" role="slider">
                            </div>
                        </div>  
                        <div role="status" id="time">
                            <div id="time-stats">
                                <div id="time-current" title="Current position">&nbsp;</div>
                                <div id="time-remaining" title="Remaining time">&nbsp;</div>
                            </div>
                            <div id="time-delimiter">/</div>
                            <div id="time-total" title="Total video length">&nbsp;</div>                            
                        </div>                      
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
